<div class="row">
    <div class="col col-md-12">
        <strong>
            <h4>{{title}}</h4>
        </strong>
    </div>
</div>
<form [formGroup]="personaForm" (submit)="enviarInformacion()">
    <div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <label class="control-label">Rol</label>
                <select formControlName="rol" class="form-control">
                    <option hidden value="" disabled selected>Selecciona una opción</option>
                    <option [value]="rol.cat_rol_id" *ngFor="let rol of arregloRoles">{{rol.rol}}</option>
                </select>
                <span class="inputError"
                    *ngIf="personaFormControls['tipoSangre'].invalid && personaFormControls['tipoSangre'].touched">Selecciona
                    una opción
                </span>
            </div>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label for="nombre">Nombre</label>
                <input formControlName="nombre" type="text" class="form-control" id="nombre" placeholder="Nombre">
                <span class="inputError"
                    *ngIf="personaFormControls['nombre'].invalid && personaFormControls['nombre'].touched">Ingresa
                    un
                    nombre</span>
            </div>
            <div class="form-group">
                <label for="apellidoPaterno">Apellido paterno</label>
                <input formControlName="apellidoPaterno" type="text" class="form-control" id="apellidoPaterno"
                    placeholder="Apellido paterno">
                <span class="inputError"
                    *ngIf="personaFormControls['apellidoPaterno'].invalid && personaFormControls['apellidoPaterno'].touched">Ingresa
                    un apellido</span>
            </div>
            <div class="form-group">
                <label for="apellidoMaterno">Apellido materno</label>
                <input formControlName="apellidoMaterno" type="text" class="form-control" id="apellidoMaterno"
                    placeholder="Apellido materno">
                <span class="inputError"
                    *ngIf="personaFormControls['apellidoMaterno'].invalid && personaFormControls['apellidoMaterno'].touched">Ingresa
                    un apellido</span>
            </div>
            <div class="form-group">
                <label for="curp">CURP</label>
                <input formControlName="curp" type="text" class="form-control" id="curp" placeholder="CURP"
                    onKeyUp="document.getElementById(this.id).value=document.getElementById(this.id).value.toUpperCase()"
                    (change)="validaCurp()">
                <span class="inputError"
                    *ngIf="personaFormControls['curp'].invalid && personaFormControls['curp'].touched">{{errorCurp}}</span>
            </div>
            <div class="form-group">
                <label class="control-label">Sexo</label>
                <select formControlName="sexo" class="form-control">
                    <option hidden value="" disabled selected>Selecciona una opción</option>
                    <option [value]="genero.cat_genero_id" *ngFor="let genero of arregloGeneros">{{genero.genero}}
                    </option>
                </select>
                <span class="inputError"
                    *ngIf="personaFormControls['sexo'].invalid && personaFormControls['sexo'].touched"> Selecciona una
                    opción
                </span>
            </div>
            <div class="form-group">
                <label for="fechaNacimiento">Fecha de nacimiento</label>
                <input formControlName="fechaNacimiento" type="date" class="form-control" id="fechaNacimiento"
                    placeholder="Fecha de nacimiento">
                <span class="inputError"
                    *ngIf="personaFormControls['fechaNacimiento'].invalid && personaFormControls['fechaNacimiento'].touched">Ingresa
                    una fecha de nacimiento</span>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label for="oficio">Oficio</label>
                <input formControlName="oficio" type="text" class="form-control" id="oficio" placeholder="Oficio">
                <span class="inputError"
                    *ngIf="personaFormControls['oficio'].invalid && personaFormControls['oficio'].touched">Ingresa
                    un número de teléfono</span>
            </div>
            <div class="form-group">
                <label class="control-label">Estado civil</label>
                <select formControlName="edoCivil" class="form-control">
                    <option hidden value="" disabled selected>Selecciona una opción</option>
                    <option [value]="estadoC.estado_civil_id" *ngFor="let estadoC of arregloEdosCiviles">
                        {{estadoC.estado_civil}}
                    </option>
                </select>
                <span class="inputError"
                    *ngIf="personaFormControls['edoCivil'].invalid && personaFormControls['edoCivil'].touched">
                    Selecciona una
                    opción
                </span>
            </div>
            <div class="form-group">
                <label for="numeroTelefono">Número de teléfono</label>
                <input formControlName="numeroTelefono" type="number" class="form-control" id="numeroTelefono"
                    placeholder="Número de teléfono">
                <span class="inputError"
                    *ngIf="personaFormControls['numeroTelefono'].invalid && personaFormControls['numeroTelefono'].touched">Ingresa
                    un número de teléfono</span>
            </div>
            <div class="form-group">
                <label for="numeroCelular">Número de celular</label>
                <input formControlName="numeroCelular" type="number" class="form-control" id="numeroCelular"
                    placeholder="Número de celular">
                <span class="inputError"
                    *ngIf="personaFormControls['numeroCelular'].invalid && personaFormControls['numeroCelular'].touched">Ingresa
                    un número de celular</span>
            </div>
            <div class="form-group">
                <label for="email">Correo electrónico</label>
                <input formControlName="email" type="email" class="form-control" id="email" (change)="validaEmail()"
                    placeholder="Correo electrónico">
                <span class="inputError"
                    *ngIf="personaFormControls['email'].invalid && personaFormControls['email'].touched">{{errorEmail}}</span>
            </div>
            <!-- <div class="form-group">
                <label for="pass">Contraseña</label>
                <input formControlName="pass" type="pass" class="form-control" id="pass" placeholder="Contraseña">
                <span class="inputError"
                    *ngIf="personaFormControls['pass'].invalid && personaFormControls['pass'].touched">Ingresa una
                    contraseña</span>
            </div> -->
        </div>
    </div>
    <div class="card border-info mt-3">
        <div class="card-header text-center">
            <strong>Datos médicos</strong>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="enfermedades">Enfermedades</label>
                        <input formControlName="enfermedades" type="text" class="form-control" id="enfermedades"
                            placeholder="Enfermedades">
                    </div>
                    <div class="form-group">
                        <label for="alergias">Alergias</label>
                        <input formControlName="alergias" type="text" class="form-control" id="alergias"
                            placeholder="Alergias">
                    </div>
                    <div class="form-group">
                        <label for="medicamentos">Medicamentos</label>
                        <input formControlName="medicamentos" type="text" class="form-control" id="medicamentos"
                            placeholder="Medicamentos">
                    </div>
                    <div class="form-group">
                        <label for="estatura">Estatura</label>
                        <input formControlName="estatura" type="number" class="form-control" id="estatura"
                            placeholder="Estatura">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label class="control-label">Complexión</label>
                        <select formControlName="complexion" class="form-control">
                            <option hidden value="" disabled selected>Selecciona una opción</option>
                            <option [value]="comp.complexion_id" *ngFor="let comp of arregloComplexiones">
                                {{comp.complexion}}</option>
                        </select>
                        <span class="inputError"
                            *ngIf="personaFormControls['complexion'].invalid && personaFormControls['complexion'].touched">Selecciona
                            una opción
                        </span>
                    </div>
                    <div class="form-group">
                        <label class="control-label">Tipo de sangre</label>
                        <select formControlName="tipoSangre" class="form-control">
                            <option hidden value="" disabled selected>Selecciona una opción</option>
                            <option [value]="tipo.cat_tipo_sangre_id" *ngFor="let tipo of tiposSangre">
                                {{tipo.tipo_sangre}}</option>
                        </select>
                        <span class="inputError"
                            *ngIf="personaFormControls['tipoSangre'].invalid && personaFormControls['tipoSangre'].touched">Selecciona
                            una opción
                        </span>
                    </div>
                    <div class="form-group">
                        <label for="sSocial">¿Cuenta con seguro social?</label>
                        <div class="d-flex">
                            <div class="form-check form-check-inline">
                                <input formControlName="sSocial" class="form-check-input" type="radio"
                                    name="sSocial" id="radioSi" [value]="'1'">
                                <label class="form-check-label" for="radioSi">Sí</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input formControlName="sSocial" class="form-check-input" type="radio"
                                    name="sSocial" id="radioNo" [value]="'0'">
                                <label class="form-check-label" for="radioNo">No</label>
                            </div>
                        </div>
                    </div>
                    <div *ngIf="personaFormControls['sSocial'].value == '1'">
                        <div class="form-group">
                            <label class="control-label">Tipo de seguro</label>
                            <select formControlName="tipoSeguro" class="form-control">
                                <option hidden value="" disabled selected>Selecciona una opción</option>
                                <option [value]="seguro.seguro_id" *ngFor="let seguro of arregloSeguros">
                                    {{seguro.seguro}}</option>
                            </select>
                            <span class="inputError"
                                *ngIf="personaFormControls['tipoSeguro'].invalid && personaFormControls['tipoSeguro'].touched">Selecciona
                                una opción
                            </span>
                        </div>
                        <div class="form-group">
                            <label for="numeroSeguro">Número de seguro</label>
                            <input formControlName="numeroSeguro" type="text" class="form-control" id="numeroSeguro"
                                placeholder="Número de seguro">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="card border-info mt-3">
        <div class="card-header text-center">
            <strong>Contacto de emergencia</strong>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="nombreContacto">Nombre</label>
                        <input formControlName="nombreContacto" type="text" class="form-control" id="nombreContacto"
                            placeholder="Nombre">
                        <span class="inputError"
                            *ngIf="personaFormControls['nombreContacto'].invalid && personaFormControls['nombreContacto'].touched">Ingresa
                            un nombre</span>
                    </div>
                    <div class="form-group">
                        <label for="apellidoContacto">Apellido</label>
                        <input formControlName="apellidoContacto" type="text" class="form-control" id="apellidoContacto"
                            placeholder="Apellido">
                        <span class="inputError"
                            *ngIf="personaFormControls['apellidoContacto'].invalid && personaFormControls['apellidoContacto'].touched">Ingresa
                            un apellido</span>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="numeroContacto">Número de teléfono</label>
                        <input formControlName="numeroContacto" type="number" class="form-control" id="numeroContacto"
                            placeholder="Número de teléfono">
                        <span class="inputError"
                            *ngIf="personaFormControls['numeroContacto'].invalid && personaFormControls['numeroContacto'].touched">Ingresa
                            un número de teléfono</span>
                    </div>
                    <div class="form-group">
                        <label for="parentescoContacto">Parentesco</label>
                        <input formControlName="parentescoContacto" type="text" class="form-control"
                            id="parentescoContacto" placeholder="Parentesco">
                        <span class="inputError"
                            *ngIf="personaFormControls['parentescoContacto'].invalid && personaFormControls['parentescoContacto'].touched">Ingresa
                            un parentesco</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row mt-3" *ngIf="usuarioList && usuarioList.url_foto">
        <div class="col d-flex justify-content-start">
            <img [src]="urlAssets+usuarioList.url_foto" class="img-fluid" alt="Imagen perfil" style="max-width: 20%;">
            <div class="col">
                <button class="btn btn-danger p-2" type="button" (click)="alertEliminaImagen()"><i
                        class="fa-solid fa-user-xmark"></i></button>
            </div>
        </div>
    </div>
    <div class="row" *ngIf="(usuarioList && !usuarioList.url_foto) || !usuarioList">
        <div>
            <app-input-images [title]="'Foto de perfil'"
                (imagenFileChange)="onImagenFileChange($event)"></app-input-images>
        </div>
    </div>
    <button type="submit" class="btn btn-success mt-3 mb-1 float-end"><i class="fa-solid fa-floppy-disk"></i> Guardar
        información</button>
</form>